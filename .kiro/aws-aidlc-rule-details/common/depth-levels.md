# 自适应深度

**目的**：解释AI-DLC如何根据问题复杂性调整详细程度

## 核心原则

**当阶段执行时，会创建其所有定义的工件。"深度"指的是这些工件内的详细程度和严格程度，它会根据问题的复杂性进行调整。**

## 阶段选择 vs 详细程度

### 阶段选择（二进制）
- **工作流规划**决定：对每个阶段执行或跳过
- **如果执行**：阶段运行并创建其所有定义的工件
- **如果跳过**：阶段完全不运行

### 详细程度（自适应）
- **简单问题**：具有基本详细信息的简洁工件
- **复杂问题**：具有广泛详细信息的全面工件
- **模型决定**：基于问题特征，而不是规定性规则

## 影响详细程度的因素

模型在确定适当详细程度时考虑这些因素：

1. **请求清晰度**：用户的请求有多清晰和完整？
2. **问题复杂性**：解决方案空间有多复杂？
3. **范围**：单个文件、组件、多个组件还是系统级？
4. **风险级别**：错误或遗漏的影响是什么？
5. **可用上下文**：绿地vs棕地，现有文档
6. **用户偏好**：用户是否表达了对简洁或详细的偏好？

## 示例：需求分析工件

**所有场景创建相同的工件**：
- `requirement-verification-questions.md`（如果需要）
- `requirements.md`

**注意**：用户的初始请求在 `audit.md` 中捕获（不需要单独的 user-intent.md）

**详细程度因复杂性而异**：

### 简单场景（错误修复）
- **requirement-verification-questions.md**：必要的澄清问题
- **requirements.md**：简洁的功能需求，最少的部分

### 复杂场景（系统迁移）
- **requirement-verification-questions.md**：多轮，10+个问题
- **requirements.md**：全面的功能+非功能需求，可追溯性，验收标准

## 示例：应用程序设计工件

**所有场景创建相同的工件**：
- `application-design.md`
- `component-diagram.md`

**详细程度因复杂性而异**：

### 简单场景（单个组件）
- **application-design.md**：基本组件描述，关键方法
- **component-diagram.md**：具有基本关系的简单图表

### 复杂场景（多组件系统）
- **application-design.md**：详细的组件职责，所有带签名的方法，设计模式，考虑的替代方案
- **component-diagram.md**：具有所有关系、数据流、集成点的全面图表

## 模型指导原则

**"为手头的问题创建恰好需要的详细信息 - 不多不少。"**

- 不要用不必要的详细信息人为地夸大简单问题
- 不要通过省略关键详细信息来亏待复杂问题
- 让问题特征自然驱动详细程度
- 当阶段执行时，始终创建所有必需的工件
